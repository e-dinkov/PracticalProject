<div class="profile-container">
  <h2>My Profile</h2>

  @if (!isEditMode) {
    <div class="profile-view">
      <p><strong>Username:</strong> {{ currentUser()?.username }}</p>
      <p><strong>Email:</strong> {{ currentUser()?.email }}</p>
      <p><strong>Phone:</strong> {{ currentUser()?.phone }}</p>

      <button class="btn edit" (click)="onEdit()">Edit Profile</button>
    </div>
  } @else {
    <form [formGroup]="profileForm" (ngSubmit)="onSave()" class="profile-form">
      <!-- Username -->
      <div class="form-group">
        <label for="username">Username</label>
        <input id="username" type="text" formControlName="username" />
        @if (isUsernameValid) {
          <small class="error">{{ usernameErrorMessage }}</small>
        }
      </div>

      <!-- Email -->
      <div class="form-group">
        <label for="email">Email</label>
        <input id="email" type="email" formControlName="email" />
        @if (isEmailValid) {
          <small class="error">{{ emailErrorMessage }}</small>
        }
      </div>

      <!-- Phone -->
      <div class="form-group">
        <label for="phone">Phone</label>
        <input id="phone" type="text" formControlName="phone" />
      </div>

      <div class="button-group">
        <button class="btn save" [disabled]="profileForm.invalid" (click)="onSave()">
          Save
        </button>
        <button type="button" class="btn cancel" (click)="onCancel()">Cancel</button>
      </div>
    </form>
  }
</div>
<div class="my-component-container fade-in">
  <!-- component content -->
</div>
